# Profile: 2026-01-16 16:06

## Configuration
- Hero: Grey Ogre deck (random policy)
- Villain: Grey Ogre deck (random policy)
- Games: 500
- Threads: 1
- Seed: 42
- skip_trivial: true

## Results
- **Throughput**: 135 games/sec
- **Wall time**: 3.7s
- **Total steps**: 47,088
- **Avg steps/game**: 94.2
- **Steps/sec**: 12,717

## Time Breakdown

### Top-level
| Component | Total Time | Count | Avg/call | % of Wall |
|-----------|------------|-------|----------|-----------|
| env.step() | 3.39s | 47,088 | 0.072ms | 91.5% |
| env.reset() | 0.03s | 500 | 0.069ms | 0.9% |
| Python overhead | 0.28s | - | - | 7.6% |

### env.step() breakdown
| Component | Total Time | % of env.step |
|-----------|------------|---------------|
| game/tick/observation | 0.62s | 18.4% |
| → populateCards | 0.12s | 3.6% |
| → populatePermanents | 0.22s | 6.4% |
| → populatePlayers | 0.03s | 0.9% |
| → populateTurn | 0.02s | 0.6% |
| game/tick/turn | 0.74s | 21.7% |
| → phase/step/priority | 0.24s | 7.1% |
| Other (action execution + trivial skipping) | 1.51s | 44.6% |

### Observation of unaccounted time

The "Other" 44.6% includes:
1. Action execution in `_step()` (~line 192 in game.cpp)
2. Multiple `_step(0)` calls when `skip_trivial=true` (lines 205-207)
3. Various game state checks and validation

The profiler tracks "game" scope which wraps `_step()` but not the action execution itself.

## Behavior Stats

### Hero
- win_rate: 0.09
- avg_game_length: 13.67 turns
- lands_played: 5,606
- spells_cast: 15,031
- attacks_declared: 3,557
- blocks_declared: 1,752

### Villain
- win_rate: 0.91
- avg_game_length: 12.71 turns
- lands_played: 5,583
- spells_cast: 15,134
- attacks_declared: 2,946
- blocks_declared: 1,894

## Raw Profiler Data

```
env_reset: total=0.0333s, count=500
env_reset/game: total=0.0108s, count=500
env_reset/tick: total=0.0025s, count=500
env_step: total=3.3730s, count=47088
env_step/game: total=1.8765s, count=47088
env_step/game/tick: total=1.4825s, count=315091
env_step/game/tick/observation: total=0.6228s, count=315091
env_step/game/tick/observation/populateCards: total=0.1215s, count=315091
env_step/game/tick/observation/populatePermanents: total=0.2169s, count=315091
env_step/game/tick/observation/populatePlayers: total=0.0286s, count=315091
env_step/game/tick/observation/populateTurn: total=0.0203s, count=630182
env_step/game/tick/turn: total=0.7357s, count=467155
env_step/game/tick/turn/phase: total=0.6610s, count=467155
env_step/game/tick/turn/phase/step: total=0.5486s, count=467155
env_step/game/tick/turn/phase/step/priority: total=0.2388s, count=414527
env_step/game/tick/turn/phase/step/priority/priority: total=0.0143s, count=7756
```

## Comparison

No previous profile data exists. This is the first baseline for the `perf` branch.

## Notes

- First baseline profile for this branch
- The 91% villain win rate with random policy suggests turn-order advantage (villain goes second)
- ~18% of time is observation building - potential optimization target
- ~22% of time is turn/game logic
- ~45% "other" time needs further profiler instrumentation to break down
- Average ~6.7 ticks per step (315,091 ticks / 47,088 steps) indicates skip_trivial is active
